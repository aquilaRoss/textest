% --- Define defaults for all fields ---
\newcommand{\perkEmpty}{}
\newcommand{\perkprereq}{}
\newcommand{\perkeffect}{}
\newcommand{\perkcost}{}

% --- Define key family ---
\pgfkeys{
  /perk/.is family, /perk,
  prereq/.estore in = \perkprereq,
  effect/.estore in = \perkeffect,
  cost/.estore in = \perkcost,
}

% --- Define PerkEntry command ---
\newcommand{\PerkEntry}[2]{%
  % #1 = Perk Name
  % #2 = Key-value data
  \renewcommand{\perkprereq}{\perkEmpty}%
  \renewcommand{\perkeffect}{\perkEmpty}%
  \renewcommand{\perkcost}{\perkEmpty}%
  %
  % Load the keys
  \pgfkeys{/perk,#2}%
  %
  % Render the perk name with anchor / index
  \subsection*{#1}%
  \MakePerkAnchor{#1}%
  %
  % Only print non-empty fields
  \ifx\perkprereq\perkEmpty\else
    \textbf{Pre-Requisites:} \perkprereq\\%
  \fi
  \ifx\perkeffect\perkEmpty\else
    \textbf{Effect:} \perkeffect\\%
  \fi
  \ifx\perkcost\perkEmpty\else
    \textbf{Cost:} \perkcost%
  \fi
  \medskip
}
