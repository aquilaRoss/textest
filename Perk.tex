% --- Define defaults for all fields ---
\newcommand{\perkEmpty}{}
\newcommand{\perkname}{}
\newcommand{\perkprereq}{}
\newcommand{\perkeffect}{}
\newcommand{\perkcost}{}

% --- Define key family ---
\pgfkeys{
  /perk/.is family, /perk,
  name/.estore in = \perkname,
  prereq/.estore in = \perkprereq,
  effect/.estore in = \perkeffect,
  cost/.estore in = \perkcost,
}

% --- Define PerkEntry command ---
\newcommand{\PerkEntry}[1]{%
  % Reset fields to empty
  \renewcommand{\perkname}{\perkEmpty}%
  \renewcommand{\perkprereq}{\perkEmpty}%
  \renewcommand{\perkeffect}{\perkEmpty}%
  \renewcommand{\perkcost}{\perkEmpty}%
  %
  % Load the keys
  \pgfkeys{/perk,#1}%
  %
  % Render the perk name with anchor / index
  \subsection*{\perkname}%
  \MakePerkAnchor{\perkname}%
  %
  % Only print non-empty fields
  \ifx\perkprereq\perkEmpty\else
    \textbf{Pre-Requisites:} \perkprereq\\%
  \fi
  \ifx\perkeffect\perkEmpty\else
    \textbf{Effect:} \perkeffect\\%
  \fi
  \ifx\perkcost\perkEmpty\else
    \textbf{Cost:} \perkcost%
  \fi
  \medskip
}
