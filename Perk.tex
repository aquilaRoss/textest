% --- Define defaults for all fields ---
\makeatletter
\newcommand{\perk@name}{}
\newcommand{\perk@prereq}{}
\newcommand{\perk@effect}{}
\newcommand{\perk@cost}{}
\makeatother

% --- Define key family ---
\pgfkeys{
  /perk/.is family, /perk,
  name/.estore in = \perk@name,
  prereq/.estore in = \perk@prereq,
  effect/.estore in = \perk@effect,
  cost/.estore in = \perk@cost,
}

% --- Define PerkEntry command ---
\makeatletter
\newcommand{\PerkEntry}[1]{%
  % Reset values
  \renewcommand{\perk@name}{}%
  \renewcommand{\perk@prereq}{}%
  \renewcommand{\perk@effect}{}%
  \renewcommand{\perk@cost}{}%
  % Load keys
  \pgfkeys{/perk,#1}%
  % Directly pass the macro to MakePerkAnchor
  \subsection*{\MakePerkAnchor{\perk@name}}%
  %
  \ifx\perk@prereq\@empty\else
    \textbf{Pre-Requisites:} \perk@prereq\\%
  \fi
  \ifx\perk@effect\@empty\else
    \textbf{Effect:} \perk@effect\\%
  \fi
  \ifx\perk@cost\@empty\else
    \textbf{Cost:} \perk@cost%
  \fi
  \medskip
}
\makeatother


