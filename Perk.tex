
% Define a key family for perks
\pgfkeys{
  /perk/.is family, /perk,
  name/.estore in = \perk@name,
  prereq/.estore in = \perk@prereq,
  effect/.estore in = \perk@effect,
  cost/.estore in = \perk@cost,
}

\newcommand{\PerkEntry}[1]{%
  \pgfkeys{/perk,#1}%
  % Safely expand the perk name before passing to MakePerkAnchor
  \begingroup
    \edef\tempname{\perk@name}%
    \subsection*{\MakePerkAnchor{\tempname}}%
  \endgroup
  \ifx\perk@prereq\@empty\else
    \textbf{Pre-Requisites:} \perk@prereq\\%
  \fi
  \ifx\perk@effect\@empty\else
    \textbf{Effect:} \perk@effect\\%
  \fi
  \ifx\perk@cost\@empty\else
    \textbf{Cost:} \perk@cost%
  \fi
  \medskip
}
