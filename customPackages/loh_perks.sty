% loh_perks.sty - Minimal helper for creating anchors and links
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{loh_perks}[2025/10/19 Perk Functions]

\RequirePackage{customPackages/mylinks} % for stripspaces
\RequirePackage{xparse}                 % for \NewDocumentCommand and \IfNoValueTF

\newcommand{\FeatureName}[2]{%
  % Clean label name
  \edef\tempa{\detokenize{#1}}%
  \edef\anchorname{\expandafter\stripspaces\tempa}%
  \label{\anchorname}%
  \index{#2!#1}%
  % Display formatted name
  {\vspace{0.5em}%
   \textbf{\fontsize{14}{16}\selectfont #1}\par}%
}

\newcommand{\PerkName}[1]{\FeatureName{#1}{Perk}}
\newcommand{\FlawName}[1]{\FeatureName{#1}{Flaw}}

\newcommand{\Prereq}[1]{%
  \textbf{Pre-Requisites:} #1\\%
}

% Optional Second Parameter changes it from
% Effect: effect goes here
% to
% Level X Effect: effect goes here
\NewDocumentCommand{\Effect}{m g}{%
  \textbf{%
    \IfNoValueTF{#2}{Effect:}{Level #2 Effect:}%
  } #1\\%
}

\newcommand{\Cost}[1]{%
  \textbf{Cost:} #1\\%
}

\newcommand{\CostPerLevel}[1]{%
  \textbf{Cost Per Level:} #1\\%
}
